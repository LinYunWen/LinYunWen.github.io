<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/linyunwen_icon/icon_32x32.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/linyunwen_icon/icon_32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/linyunwen_icon/icon_16x16.png">
  <link rel="mask-icon" href="/images/linyunwen_icon/icon_32x32.png" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"linyunwen.github.io","root":"/","images":"/images","scheme":"Gemini","version":"8.6.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"disqus","storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜尋...","empty":"我們無法找到任何有關 ${query} 的搜索結果","hits_time":"${hits} 找到 ${time} 個結果","hits":"找到 ${hits} 個結果"}}</script><script src="/js/config.js"></script>
<meta name="description" content="C++ fstream, ifstream, ofstreamifstream constructor   default constructor Constructs an ifstream object that is not associated with any file. Internally, its istream base constructor is passed a point">
<meta property="og:type" content="article">
<meta property="og:title" content="C++ fstream, ifstream, ofstream">
<meta property="og:url" content="https://linyunwen.github.io/2021/10/20/c-c-fstream/index.html">
<meta property="og:site_name" content="Lin Yunwen&#39;s Blog">
<meta property="og:description" content="C++ fstream, ifstream, ofstreamifstream constructor   default constructor Constructs an ifstream object that is not associated with any file. Internally, its istream base constructor is passed a point">
<meta property="og:locale" content="zh_TW">
<meta property="article:published_time" content="2021-10-20T13:38:45.000Z">
<meta property="article:modified_time" content="2021-10-20T23:38:10.594Z">
<meta property="article:author" content="Lin Yunwen">
<meta property="article:tag" content="note">
<meta property="article:tag" content="c&#x2F;c++">
<meta property="article:tag" content="fstream">
<meta property="article:tag" content="ifstream">
<meta property="article:tag" content="ofstream">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://linyunwen.github.io/2021/10/20/c-c-fstream/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-TW","comments":true,"permalink":"https://linyunwen.github.io/2021/10/20/c-c-fstream/","path":"2021/10/20/c-c-fstream/","title":"C++ fstream, ifstream, ofstream"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>C++ fstream, ifstream, ofstream | Lin Yunwen's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-H43D6184CW"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-H43D6184CW","only_pageview":false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Lin Yunwen's Blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">keep moving forward</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首頁</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>標籤</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>歸檔</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#C-fstream-ifstream-ofstream"><span class="nav-number">1.</span> <span class="nav-text">C++ fstream, ifstream, ofstream</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ifstream"><span class="nav-number">1.1.</span> <span class="nav-text">ifstream</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Parameters"><span class="nav-number">1.2.</span> <span class="nav-text">Parameters</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#open"><span class="nav-number">1.3.</span> <span class="nav-text">open</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#parameter"><span class="nav-number">1.3.1.</span> <span class="nav-text">parameter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#return"><span class="nav-number">1.3.2.</span> <span class="nav-text">return</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#reference"><span class="nav-number">1.3.3.</span> <span class="nav-text">reference</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#is-open"><span class="nav-number">1.4.</span> <span class="nav-text">is_open</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#reference-1"><span class="nav-number">1.4.1.</span> <span class="nav-text">reference</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#good-fail-bad"><span class="nav-number">1.5.</span> <span class="nav-text">good, fail, bad</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#reference-2"><span class="nav-number">1.5.1.</span> <span class="nav-text">reference</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reference-3"><span class="nav-number">1.6.</span> <span class="nav-text">reference</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-overview">
            <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Lin Yunwen"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Lin Yunwen</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">113</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">137</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/LinYunWen" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;LinYunWen" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:l40303k@gmail.com" title="E-Mail → mailto:l40303k@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



          </div>
        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="回到頂端">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://linyunwen.github.io/2021/10/20/c-c-fstream/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Lin Yunwen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lin Yunwen's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          C++ fstream, ifstream, ofstream
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間：2021-10-20 21:38:45" itemprop="dateCreated datePublished" datetime="2021-10-20T21:38:45+08:00">2021-10-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新於</span>
        <time title="修改時間：2021-10-21 07:38:10" itemprop="dateModified" datetime="2021-10-21T07:38:10+08:00">2021-10-21</time>
      </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="文章字數">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">文章字數：</span>
      <span>3.1k</span>
    </span>
    <span class="post-meta-item" title="所需閱讀時間">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
      <span>6 分鐘</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="C-fstream-ifstream-ofstream"><a href="#C-fstream-ifstream-ofstream" class="headerlink" title="C++ fstream, ifstream, ofstream"></a>C++ fstream, ifstream, ofstream</h1><h2 id="ifstream"><a href="#ifstream" class="headerlink" title="ifstream"></a>ifstream</h2><ul>
<li>constructor</li>
</ul>
<ol>
<li>default constructor<ul>
<li>Constructs an ifstream object that is not associated with any file.</li>
<li>Internally, its istream base constructor is passed a pointer to a newly constructed filebuf object (the internal file stream buffer).</li>
</ul>
</li>
<li>initialization constructor<ul>
<li>Constructs an ifstream object, initially associated with the file identified by its first argument (filename), open with the mode specified by mode.</li>
<li>Internally, its istream base constructor is passed a pointer to a newly constructed filebuf object (the internal file stream buffer). Then, filebuf::open is called with filename and mode as arguments.</li>
<li>If the file cannot be opened, the stream’s failbit flag is set.</li>
</ul>
</li>
<li>copy constructor (deleted)<ul>
<li>Deleted (no copy constructor).</li>
</ul>
</li>
<li>move constructor<ul>
<li>Acquires the contents of x.</li>
<li>First, the function move-constructs both its base istream class from x and a filebuf object from x’s internal filebuf object, and then associates them by calling member set_rdbuf.</li>
<li>x is left in an unspecified but valid state.<span id="more"></span>
<h2 id="Parameters"><a href="#Parameters" class="headerlink" title="Parameters"></a>Parameters</h2></li>
</ul>
</li>
</ol>
<ul>
<li>filename<ul>
<li>A string representing the name of the file to open.</li>
<li>Specifics about its format and validity depend on the library implementation and running environment.</li>
</ul>
</li>
<li>mode<ul>
<li>Flags describing the requested i/o mode for the file.</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>member constant</th>
<th>stands for</th>
<th>access</th>
</tr>
</thead>
<tbody><tr>
<td>in *</td>
<td><strong>in</strong>put</td>
<td>File open for reading: the <em><a target="_blank" rel="noopener" href="https://www.cplusplus.com/ifstream::rdbuf">internal stream buffer</a></em> supports input operations.</td>
</tr>
<tr>
<td>out</td>
<td><strong>out</strong>put</td>
<td>File open for writing: the <em><a target="_blank" rel="noopener" href="https://www.cplusplus.com/ifstream::rdbuf">internal stream buffer</a></em> supports output operations.</td>
</tr>
<tr>
<td>binary</td>
<td><strong>binary</strong></td>
<td>Operations are performed in binary mode rather than text.</td>
</tr>
<tr>
<td>ate</td>
<td><strong>at e</strong>nd</td>
<td>The <em>output position</em> starts at the end of the file.</td>
</tr>
<tr>
<td>app</td>
<td><strong>app</strong>end</td>
<td>All output operations happen at the end of the file, appending to its existing contents.</td>
</tr>
<tr>
<td>trunc</td>
<td><strong>trunc</strong>ate</td>
<td>Any contents that existed in the file before it is open are discarded.</td>
</tr>
</tbody></table>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.cplusplus.com/reference/fstream/ifstream/ifstream/">ifstream::ifstream - C++ Reference</a></li>
</ul>
<h2 id="open"><a href="#open" class="headerlink" title="open"></a>open</h2><ul>
<li><p>Opens the file identified by argument filename, associating its content with the <em>file stream buffer</em> object to perform input/output operations on it. The operations allowed and some operating details depend on parameter mode.  </p>
</li>
<li><p>If the object is already associated with a file (i.e., it is already <em><a target="_blank" rel="noopener" href="https://www.cplusplus.com/filebuf::is_open">open</a></em>), this function fails.</p>
<h3 id="parameter"><a href="#parameter" class="headerlink" title="parameter"></a>parameter</h3></li>
<li><p>filename</p>
</li>
<li><p>mode</p>
</li>
</ul>
<h3 id="return"><a href="#return" class="headerlink" title="return"></a>return</h3><ul>
<li>The function returns this if successful.</li>
<li>In case of failure, the file is not open, and a null pointer is returned.<h3 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h3></li>
<li><a target="_blank" rel="noopener" href="https://www.cplusplus.com/reference/fstream/filebuf/open/">filebuf::open - C++ Reference</a></li>
</ul>
<h2 id="is-open"><a href="#is-open" class="headerlink" title="is_open"></a>is_open</h2><ul>
<li>Check if a file is open</li>
<li>Returns whether the stream is currently associated to a file.  </li>
<li>Streams can be associated to files by a successful call to member <a target="_blank" rel="noopener" href="https://www.cplusplus.com/ifstream::open">open</a> or directly on construction, and disassociated by calling <a target="_blank" rel="noopener" href="https://www.cplusplus.com/ifstream::close">close</a> or on destruction.</li>
</ul>
<h3 id="reference-1"><a href="#reference-1" class="headerlink" title="reference"></a>reference</h3><ul>
<li><a target="_blank" rel="noopener" href="https://www.cplusplus.com/reference/fstream/ifstream/is_open/">ifstream::is_open - C++ Reference</a></li>
</ul>
<h2 id="good-fail-bad"><a href="#good-fail-bad" class="headerlink" title="good, fail, bad"></a>good, fail, bad</h2><ul>
<li>failbit is generally set by an operation when the error is related to the internal logic of the operation itself; further operations on the stream may be possible. While badbit is generally set when the error involves the loss of integrity of the stream, which is likely to persist even if a different operation is attempted on the stream.</li>
<li>badbit can be checked independently by calling member function <a target="_blank" rel="noopener" href="https://www.cplusplus.com/ios::bad">bad</a>:</li>
<li>Notice that this function is not the exact opposite of <a target="_blank" rel="noopener" href="https://www.cplusplus.com/ios::good">good</a>, which checks whether none of the error flags (eofbit, failbit and badbit) are set, and not only badbit:</li>
</ul>
<table>
<thead>
<tr>
<th>iostate value</th>
<th>indicates</th>
<th>good()</th>
<th>eof()</th>
<th>fail()</th>
<th>bad()</th>
<th>rdstate()</th>
</tr>
</thead>
<tbody><tr>
<td>goodbit</td>
<td>No errors (zero value iostate)</td>
<td>true</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>goodbit</td>
</tr>
<tr>
<td>eofbit</td>
<td>End-of-File reached on input operation</td>
<td>false</td>
<td>true</td>
<td>false</td>
<td>false</td>
<td>eofbit</td>
</tr>
<tr>
<td>failbit</td>
<td>Logical error on i/o operation</td>
<td>false</td>
<td>false</td>
<td>true</td>
<td>false</td>
<td>failbit</td>
</tr>
<tr>
<td>badbit</td>
<td>Read/writing error on i/o operation</td>
<td>false</td>
<td>false</td>
<td>true</td>
<td>true</td>
<td>badbit</td>
</tr>
</tbody></table>
<h3 id="reference-2"><a href="#reference-2" class="headerlink" title="reference"></a>reference</h3><ul>
<li><a target="_blank" rel="noopener" href="https://www.cplusplus.com/reference/ios/ios/good/">ios::good - C++ Reference</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cplusplus.com/reference/ios/ios/fail/">ios::fail - C++ Reference</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cplusplus.com/reference/ios/ios/bad/">ios::bad - C++ Reference</a><h2 id="reference-3"><a href="#reference-3" class="headerlink" title="reference"></a>reference</h2></li>
<li></li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/note/" rel="tag"># note</a>
              <a href="/tags/c-c/" rel="tag"># c/c++</a>
              <a href="/tags/fstream/" rel="tag"># fstream</a>
              <a href="/tags/ifstream/" rel="tag"># ifstream</a>
              <a href="/tags/ofstream/" rel="tag"># ofstream</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/10/20/c-c-file-exist/" rel="prev" title="C/C++ Check File Exists">
                  <i class="fa fa-chevron-left"></i> C/C++ Check File Exists
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/10/21/ntpdate/" rel="next" title="ntpdate">
                  ntpdate <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lin Yunwen</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>總字數：</span>
    <span title="總字數">269k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>所需總閱讀時間 &asymp;</span>
    <span title="所需總閱讀時間">8:09</span>
  </span>
</div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  




  





</body>
</html>
