<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/linyunwen_icon/icon_32x32.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/linyunwen_icon/icon_32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/linyunwen_icon/icon_16x16.png">
  <link rel="mask-icon" href="/images/linyunwen_icon/icon_32x32.png" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"linyunwen.github.io","root":"/","images":"/images","scheme":"Gemini","version":"8.6.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"disqus","storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜尋...","empty":"我們無法找到任何有關 ${query} 的搜索結果","hits_time":"${hits} 找到 ${time} 個結果","hits":"找到 ${hits} 個結果"}}</script><script src="/js/config.js"></script>
<meta name="description" content="mv advice 不好意思 很基礎的問題 請問一下有關 mv 的指令? [論壇 - Ubuntu安裝問題] | Ubuntu 正體中文站  以檔案為單位，複製成功之後刪除  mv應該不會複製檔案喔     是直接更改inode，所以速度很快   也因此不能跨partition   是不跨partition時是只改inode,所以是瞬間完成    跨partition就是要搬過去了…會比較慢">
<meta property="og:type" content="article">
<meta property="og:title" content="mv advice">
<meta property="og:url" content="https://linyunwen.github.io/2021/08/25/mv-advice/index.html">
<meta property="og:site_name" content="Lin Yunwen&#39;s Blog">
<meta property="og:description" content="mv advice 不好意思 很基礎的問題 請問一下有關 mv 的指令? [論壇 - Ubuntu安裝問題] | Ubuntu 正體中文站  以檔案為單位，複製成功之後刪除  mv應該不會複製檔案喔     是直接更改inode，所以速度很快   也因此不能跨partition   是不跨partition時是只改inode,所以是瞬間完成    跨partition就是要搬過去了…會比較慢">
<meta property="og:locale" content="zh_TW">
<meta property="article:published_time" content="2021-08-25T00:12:39.000Z">
<meta property="article:modified_time" content="2021-08-25T00:13:23.674Z">
<meta property="article:author" content="Lin Yunwen">
<meta property="article:tag" content="note, linux, mv, advice">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://linyunwen.github.io/2021/08/25/mv-advice/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-TW","comments":true,"permalink":"https://linyunwen.github.io/2021/08/25/mv-advice/","path":"2021/08/25/mv-advice/","title":"mv advice"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>mv advice | Lin Yunwen's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-H43D6184CW"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-H43D6184CW","only_pageview":false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Lin Yunwen's Blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">keep moving forward</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首頁</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>標籤</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>歸檔</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#mv-advice"><span class="nav-number">1.</span> <span class="nav-text">mv advice</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-overview">
            <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Lin Yunwen"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Lin Yunwen</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">141</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">185</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/LinYunWen" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;LinYunWen" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:l40303k@gmail.com" title="E-Mail → mailto:l40303k@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



          </div>
        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="回到頂端">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://linyunwen.github.io/2021/08/25/mv-advice/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Lin Yunwen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lin Yunwen's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          mv advice
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>
      

      <time title="創建時間：2021-08-25 08:12:39 / 修改時間：08:13:23" itemprop="dateCreated datePublished" datetime="2021-08-25T08:12:39+08:00">2021-08-25</time>
    </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="文章字數">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">文章字數：</span>
      <span>3.3k</span>
    </span>
    <span class="post-meta-item" title="所需閱讀時間">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
      <span>6 分鐘</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="mv-advice"><a href="#mv-advice" class="headerlink" title="mv advice"></a>mv advice</h1><ul>
<li><p><a target="_blank" rel="noopener" href="http://www.ubuntu-tw.org/modules/newbb/viewtopic.php?viewmode=compact&topic_id=36216&forum=1">不好意思 很基礎的問題 請問一下有關 mv 的指令? [論壇 - Ubuntu安裝問題] | Ubuntu 正體中文站</a></p>
<ul>
<li>以檔案為單位，複製成功之後刪除</li>
<li></li>
<li>mv應該不會複製檔案喔  </li>
</ul>
<ul>
<li>是直接更改inode，所以速度很快  </li>
<li>也因此不能跨partition</li>
</ul>
<ul>
<li><p>是不跨partition時是只改inode,所以是瞬間完成  </p>
</li>
<li><p>跨partition就是要搬過去了…會比較慢  </p>
</li>
<li><p>不過也是成功後才砍檔案</p>
</li>
<li><p>或是早期版本不能跨partition，造成我有這個印象，所以現在跨partition搬移我都不用mv  </p>
</li>
<li><p>我指的早期版本是slackware 4.0之前的版本mv的運作方式</p>
<span id="more"></span></li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://unix.stackexchange.com/questions/48086/when-we-use-mv-command-what-changes-take-place-in-hdd">filesystems - When we use mv command, what changes take place in HDD? - Unix &amp; Linux Stack Exchange</a></p>
<ul>
<li><p>It’s up to each filesystem how to handle a move within the filesystem (also known as renaming a file), but filesystems pretty much universally handle it by updating directory entries without moving the inode or file contents.</p>
</li>
<li><p>A move between filesystems (it doesn’t matter if it’s on the same physical medium or not) is handled as a file copy followed by a delete. This is in fact exactly what the <code>mv</code> command does. Obviously that means that the destination filesystem has to make a new copy of the file.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">As the rename(2) call does not work across file systems, mv uses cp(1) and rm(1) to</span><br><span class="line">accomplish the move.  The effect is equivalent to:</span><br><span class="line"></span><br><span class="line">   rm -f destination_path &amp;&amp; \</span><br><span class="line">   cp -pRP source_file destination &amp;&amp; \</span><br><span class="line">   rm -rf source_file</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://unix.stackexchange.com/questions/283998/how-to-move-from-one-filesystem-to-another-without-changing-directory-structure">linux - How to move from one filesystem to another without changing directory structure? - Unix &amp; Linux Stack Exchange</a></p>
<ul>
<li>In most cases, you wouldn’t move the files from one filesystem to another. If you’re enlarging the disk in a virtual machine or grabbing more space from the same disk, you’d enlarge the partition containing the filesystem then enlarge the filesystem to fill the partition (which commands to use depends on the partition type and filesystem type)</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.ibm.com/docs/en/aix/7.2?topic=m-mv-command">mv Command - IBM Documentation</a></p>
<ul>
<li>When you move a file, all links to other files remain intact, except when you move it to a different file system</li>
<li>You can use the <strong>mv</strong> command to move files within the same file system or between file systems. Whether you are working in one file system or across file systems, the <strong>mv</strong> command copies the file to the target and deletes the original file</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://man7.org/linux/man-pages/man1/mv.1p.html">mv(1p) - Linux manual page</a></p>
<ul>
<li><p>The <em>rename</em>() function is able to move directories within the same<br> file system. Some historical versions of <em>mv</em> have been able to<br> move directories, but not to a different file system.  The<br> standard developers considered that this was an annoying<br> inconsistency, so this volume of POSIX.1‐2017 requires<br> directories to be able to be moved even across file systems.<br> There is no <strong>-R</strong> option to confirm that moving a directory is<br> actually intended, since such an option was not required for<br> moving directories in historical practice. Requiring the<br> application to specify it sometimes, depending on the<br> destination, seemed just as inconsistent. The semantics of the<br> <em>rename</em>() function were preserved as much as possible. For<br> example, <em>mv</em> is not permitted to ``rename’’ files to or from<br> directories, even though they might be empty and removable.</p>
<p> Historic implementations of <em>mv</em> did not exit with a non-zero exit<br> status if they were unable to duplicate any file characteristics<br> when moving a file across file systems, nor did they write a<br> diagnostic message for the user. The former behavior has been<br> preserved to prevent scripts from breaking; a diagnostic message<br> is now required, however, so that users are alerted that the file<br> characteristics have changed.</p>
<p> The exact format of the interactive prompts is unspecified. Only<br> the general nature of the contents of prompts are specified<br> because implementations may desire more descriptive prompts than<br> those used on historical implementations. Therefore, an<br> application not using the <strong>-f</strong> option or using the <strong>-i</strong> option relies<br> on the system to provide the most suitable dialog directly with<br> the user, based on the behavior specified.</p>
<p> When <em>mv</em> is dealing with a single file system and _source_file_ is a<br> symbolic link, the link itself is moved as a consequence of the<br> dependence on the <em>rename</em>() functionality, per the DESCRIPTION.<br> Across file systems, this has to be made explicit.</p>
</li>
</ul>
</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/note-linux-mv-advice/" rel="tag"># note, linux, mv, advice</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/08/23/web-device-connection/" rel="prev" title="網際網路上用來找尋設備的方法">
                  <i class="fa fa-chevron-left"></i> 網際網路上用來找尋設備的方法
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/08/26/nmap/" rel="next" title="Nmap">
                  Nmap <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lin Yunwen</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>總字數：</span>
    <span title="總字數">355k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>所需總閱讀時間 &asymp;</span>
    <span title="所需總閱讀時間">10:45</span>
  </span>
</div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  




  





</body>
</html>
